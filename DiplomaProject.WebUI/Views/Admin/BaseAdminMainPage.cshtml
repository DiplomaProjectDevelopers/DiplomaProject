@model IEnumerable<UserViewModel>
@{
    ViewData["Title"] = "BaseAdminMainPage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

<p>
    <a asp-action="Register">Create New User</a>
</p>
<div class="table-responsive">
    <h4>Current users</h4>
<table id="user-tbl" class="table table-bordered table-striped">
    <thead>
        <tr>
            <th><input type="checkbox" id="checkall" /></th>
            <th>@Html.DisplayNameFor(model => model.FirstName)</th>
            <th>@Html.DisplayNameFor(model => model.LastName)</th>
            <th>@Html.DisplayNameFor(model => model.Email)</th>
            <th>@Html.DisplayNameFor(model => model.PhoneNumber)</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>

    </thead>
    <tbody>
        @foreach (var user in Model)
        {
        <tr>
            <td>
            <input type="checkbox" class="checkthis" />
            </td>
            <td>
                @Html.DisplayFor(modelItem => user.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => user.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => user.Email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => user.PhoneNumber)
            </td>
            <td>
                <p data-placement="top" data-toggle="tooltip" title="Edit">
                    <button class="btn btn-primary btn-xs" data-title="Edit" data-toggle="modal" data-target="#edit">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </button>
                </p>
            </td>
            <td>
                <p data-placement="top" data-toggle="tooltip" title="Delete">
                    <button class="btn btn-danger btn-xs" data-title="Delete" data-toggle="modal" data-target="#delete">
                        <span class="glyphicon glyphicon-trash"></span>
                    </button>
                </p>
            </td>

        </tr>
        }
    </tbody>
</table>
    </div>
@section Scripts{ 
<script>
        $(document).ready(function(){
$("#user-tbl #checkall").click(function () {
    if ($("#user-tbl #checkall").is(':checked')) {
        $("#user-tbl input[type=checkbox]").each(function () {
                $(this).prop("checked", true);
            });

        } else {
        $("#user-tbl input[type=checkbox]").each(function () {
                $(this).prop("checked", false);
            });
        }
    });

    $("[data-toggle=tooltip]").tooltip();
});
</script>
}
